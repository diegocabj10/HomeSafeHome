<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Notificaciones</title>
</head>
<body ng-app="myApp" ng-controller="myCtrl">

    <button ng-click="Buscar()"> Consultar</button>
    <div>
        Registros: {{Lista.length}}
    </div>
    <div>
        <table class="table table-striped table-bordered">
            <tr>
                <th class="text-center">Id Evento</th>
                <th class="text-center">Id Arduino</th>
                <th class="text-center">Señal</th>
                <th class="text-center">Valor</th>
                <th class="text-center">Fecha Notifiacion</th>
            </tr>

            <tr ng-repeat="dto in Lista">
                <td class="text-center">{{dto.Id}}</td>
                <td class="text-center">{{dto.IdDispositivo}}</td>
                <td class="text-center">{{dto.IdSenial}}</td>
                <td class="text-center">{{dto.Valor}}</td>
                <td class="text-center">{{dto.FechaEvento}}</td>
            </tr>
        </table>
    </div>

    <link href="bootstrap.min.css" rel="stylesheet" />
    <script src="jquery-1.10.2.js"></script>
    <script src="angular.js"></script>
    <script src="bootstrap.min.js"></script>
    <script>
        myApp = angular.module('myApp', []);
        myApp.controller('myCtrl', function ($scope, $http, $interval) {

            $scope.Buscar = function () {
                $interval(function () {
                    $http.get('api/eventos', { params: { numeroPagina: 1 } })
                        .then(
                            function (successResponse) {
                                $scope.Lista = successResponse.data.Lista;
                            }
                        );
                }, 1000, 100
                );
            };




        })

    </script>

</body>
</html>